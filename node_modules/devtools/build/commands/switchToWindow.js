"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * The Switch To Window command is used to select the current top-level browsing context
 * for the current session, i.e. the one that will be used for processing commands.
 *
 * @alias browser.switchToWindow
 * @see https://w3c.github.io/webdriver/#dfn-switch-to-window
 * @param {string} handle  representing a window handle, should be one of the strings that was returned in a call to getWindowHandles
 */
async function switchToWindow({ handle }) {
    if (!this.windows.has(handle)) {
        throw new Error(`window with handle ${handle} not found`);
    }
    delete this.currentFrame;
    this.currentWindowHandle = handle;
    const page = this.getPageHandle();
    page.on('dialog', this.dialogHandler.bind(this));
    await page.bringToFront();
    return handle;
}
exports.default = switchToWindow;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3dpdGNoVG9XaW5kb3cuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvY29tbWFuZHMvc3dpdGNoVG9XaW5kb3cudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFFQTs7Ozs7OztHQU9HO0FBQ1ksS0FBSyxVQUFVLGNBQWMsQ0FFeEMsRUFBRSxNQUFNLEVBQXNCO0lBRTlCLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRTtRQUMzQixNQUFNLElBQUksS0FBSyxDQUFDLHNCQUFzQixNQUFNLFlBQVksQ0FBQyxDQUFBO0tBQzVEO0lBRUQsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFBO0lBQ3hCLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxNQUFNLENBQUE7SUFDakMsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFBO0lBQ2pDLElBQUksQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUE7SUFDaEQsTUFBTSxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUE7SUFFekIsT0FBTyxNQUFNLENBQUE7QUFDakIsQ0FBQztBQWZELGlDQWVDIn0=