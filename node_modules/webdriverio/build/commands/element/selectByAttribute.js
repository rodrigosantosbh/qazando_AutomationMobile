"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const utils_1 = require("../../utils");
/**
 *
 * Select option with a specific value.
 *
 * <example>
    :example.html
    <select id="selectbox">
        <option value="someValue0">uno</option>
        <option value="someValue1">dos</option>
        <option value="someValue2">tres</option>
        <option value="someValue3">cuatro</option>
        <option value="someValue4">cinco</option>
        <option name="someName5" value="someValue5">seis</option>
    </select>
    :selectByAttribute.js
    it('Should demonstrate the selectByAttribute command', () => {
        const selectBox = $('#selectbox');
        const value = selectBox.getValue();
        console.log(value); // returns "someValue0"

        selectBox.selectByAttribute('value', 'someValue3');
        console.log(selectBox.getValue()); // returns "someValue3"

        selectBox.selectByAttribute('name', 'someName5');
        console.log(selectBox.getValue()); // returns "someValue5"
    });
 * </example>
 *
 * @alias element.selectByAttribute
 * @param {String} attribute     attribute of option element to get selected
 * @param {String|Number} value  value of option element to get selected
 * @uses protocol/findElementFromElement, protocol/elementClick
 * @type action
 *
 */
async function selectByAttribute(attribute, value) {
    /**
     * convert value into string
     */
    value = typeof value === 'number'
        ? value.toString()
        : value;
    /**
    * find option elememnt using xpath
    */
    const normalized = `[normalize-space(@${attribute.trim()}) = "${value.trim()}"]`;
    const optionElement = await this.findElementFromElement(this.elementId, 'xpath', `./option${normalized}|./optgroup/option${normalized}`);
    if (optionElement && optionElement.error === 'no such element') {
        throw new Error(`Option with attribute "${attribute}=${value}" not found.`);
    }
    /**
    * select option
    */
    return this.elementClick(utils_1.getElementFromResponse(optionElement));
}
exports.default = selectByAttribute;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VsZWN0QnlBdHRyaWJ1dGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvY29tbWFuZHMvZWxlbWVudC9zZWxlY3RCeUF0dHJpYnV0ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHVDQUFvRDtBQUVwRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQWtDRztBQUNZLEtBQUssVUFBVSxpQkFBaUIsQ0FFM0MsU0FBaUIsRUFDakIsS0FBc0I7SUFFdEI7O09BRUc7SUFDSCxLQUFLLEdBQUcsT0FBTyxLQUFLLEtBQUssUUFBUTtRQUM3QixDQUFDLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRTtRQUNsQixDQUFDLENBQUMsS0FBSyxDQUFBO0lBRVg7O01BRUU7SUFDRixNQUFNLFVBQVUsR0FBRyxxQkFBcUIsU0FBUyxDQUFDLElBQUksRUFBRSxRQUFRLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFBO0lBQ2hGLE1BQU0sYUFBYSxHQUFHLE1BQU0sSUFBSSxDQUFDLHNCQUFzQixDQUNuRCxJQUFJLENBQUMsU0FBUyxFQUNkLE9BQU8sRUFDUCxXQUFXLFVBQVUscUJBQXFCLFVBQVUsRUFBRSxDQUN6RCxDQUFBO0lBRUQsSUFBSSxhQUFhLElBQUssYUFBcUIsQ0FBQyxLQUFLLEtBQUssaUJBQWlCLEVBQUU7UUFDckUsTUFBTSxJQUFJLEtBQUssQ0FBQywwQkFBMEIsU0FBUyxJQUFJLEtBQUssY0FBYyxDQUFDLENBQUE7S0FDOUU7SUFFRDs7TUFFRTtJQUNGLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyw4QkFBc0IsQ0FBQyxhQUFhLENBQVcsQ0FBQyxDQUFBO0FBQzdFLENBQUM7QUE5QkQsb0NBOEJDIn0=